<div class="content-wrapper">
  <mat-toolbar class="nav-toolbar">
    <div class="nav-container">
      <a mat-button routerLink="/home" routerLinkActive="active" class="nav-button">
        <mat-icon>home</mat-icon>
        דף הבית
      </a>
      
      <a mat-button *ngIf="authService.isAuthenticated()" 
         routerLink="/courses" routerLinkActive="active" class="nav-button">
        <mat-icon>school</mat-icon>
        קורסים
      </a>
      
      <a mat-button *ngIf="authService.isAuthenticated()" 
         routerLink="/my-courses" routerLinkActive="active" class="nav-button">
        <mat-icon>library_books</mat-icon>
        הקורסים שלי
      </a>
      
      <a mat-button *ngIf="authService.isAuthenticated() && 
         (authService.getRole() === 'admin' || authService.getRole() === 'teacher')" 
         routerLink="/manage-courses" routerLinkActive="active" class="nav-button">
        <mat-icon>settings</mat-icon>
        ניהול קורסים
      </a>
    </div>

    <span class="spacer"></span>

    <div class="auth-buttons">
      <!-- שינוי מ-*ngIf ל-@if ושימוש בפונקציית logout של הקומפוננטה -->
      @if (authService.isAuthenticated()) {
        <button mat-button (click)="logout()" class="nav-button">
          <mat-icon>exit_to_app</mat-icon>
          התנתק
        </button>
      }
      
      @if (!authService.isAuthenticated()) {
        <a mat-button routerLink="/login" routerLinkActive="active" class="nav-button">
          <mat-icon>login</mat-icon>
          התחבר
        </a>
        
        <a mat-button routerLink="/register" routerLinkActive="active" class="nav-button">
          <mat-icon>person_add</mat-icon>
          הרשם
        </a>
      }
    </div>
  </mat-toolbar>

  <div class="main-content">
    <router-outlet></router-outlet>
  </div>

  <footer class="footer">
    <div class="footer-content">
      <div class="footer-section">
        <div class="footer-border"></div>
        <p class="footer-text">
          © 2025 | Web Development & Design |  
          <a href="mailto:r0556757343&#64;gmail.com" class="email-link">r0556757343&#64;gmail.com</a>
        </p>
        <div class="footer-border"></div>
      </div>
    </div>
  </footer>
  
</div>